<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>防腾讯固定导航栏</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }

        .main {
            width: 1000px;
            margin: 0 auto;
        }

        /*.top {
            height: 171px;
        }
        .nav {
            height: 86px;
        }*/
        .nav .active {
            position: fixed;
            top: 0;
        }
    </style>
    <script src="jquery-1.12.2.js"></script>
    <script>

//        //页面加载事件
//        $(function () {
//           //浏览器的滚动事件
//            $(window).scroll(function () {
//                //判断如果页面向上卷曲出去的距离大于或者等于top  nav就固定到顶部
//                if ($(document).scrollTop() >= $('.top').height()) {
//                    //设置中间的导航栏脱离文档流
//                    $('.nav').css('position', 'fixed');
//                    //设置中间的导航栏top为0   为了让导航栏固定到顶部
//                    $('.nav').css('top', '0');
//                    //设置nav下面的div元素的上面还留有nav的位置（虽然nav脱离文档流 但是仍然要占位置）
//                    $('.main').css('marginTop', $('.nav').height());
//
//                } else {
//                    //不在脱离文档流
//                    $('.nav').css('position', '');
//                    //清除之前设置的占位
//                    $('.main').css('marginTop', 0);
//                }
//            });
//        });


//
        $(function () {
            $(window).scroll(function () {
                if($(document).scrollTop()>=$('.top').height()){
                    $('.nav').css({'position':'fixed','top':'0'});
                    $('.main').css('marginTop', $('.nav').height());
                }else{
                    $('.nav').css({'position':'','top':'0'});
                    $('.main').css('marginTop', 0);
                }
            });
        });


    </script>
</head>

<body>
<div class="top">
    <img src="images/top.png"/>
</div>
<div class="nav">
    <img src="images/nav.png"/>
</div>
<div class="main">
    <img src="images/main.png"/>
</div>
</body>

</html>
